<!DOCTYPE html>
<html lang="en"><head>
<script src="lecture-05-trans_files/libs/clipboard/clipboard.min.js"></script>
<script src="lecture-05-trans_files/libs/quarto-html/tabby.min.js"></script>
<script src="lecture-05-trans_files/libs/quarto-html/popper.min.js"></script>
<script src="lecture-05-trans_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="lecture-05-trans_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="lecture-05-trans_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet">
<link href="lecture-05-trans_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-0.9.565">

  <meta name="author" content="Brandon M. Greenwell">
  <title>Regression with categorical predictors and transformations</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="lecture-05-trans_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="lecture-05-trans_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="lecture-05-trans_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="lecture-05-trans_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="lecture-05-trans_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="lecture-05-trans_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="lecture-05-trans_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="lecture-05-trans_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="lecture-05-trans_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="center">
  <h1 class="title">Regression with categorical predictors and transformations</h1>
  <p class="author">Brandon M. Greenwell</p>
  <p class="institute">University of Cincinnati</p>
</section>

<section id="main-topics" class="slide level2">
<h2>Main topics</h2>
<ul>
<li>Categorical predictors</li>
<li>Analysis of covariance (ANCOVA)</li>
<li>Transformations</li>
<li>Automated procedures (a quick note)</li>
</ul>
<div class="cell">

</div>
</section>
<section id="required-packages" class="slide level2">
<h2>Required packages</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>pkgs <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb1-2"><a href="#cb1-2"></a>  <span class="st">"AmesHousing"</span>,  <span class="co"># for Ames, Iowa housing data</span></span>
<span id="cb1-3"><a href="#cb1-3"></a>  <span class="st">"ggplot2"</span>,      <span class="co"># for some of the graphics</span></span>
<span id="cb1-4"><a href="#cb1-4"></a>  <span class="st">"ISLR2"</span>,        <span class="co"># for the MLB salary data</span></span>
<span id="cb1-5"><a href="#cb1-5"></a>  <span class="st">"MASS"</span>          <span class="co"># for boxcox() function</span></span>
<span id="cb1-6"><a href="#cb1-6"></a>)</span>
<span id="cb1-7"><a href="#cb1-7"></a>install <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(pkgs, <span class="fu">installed.packages</span>()[, <span class="st">"Package"</span>])</span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="fu">install.packages</span>(install)</span>
<span id="cb1-9"><a href="#cb1-9"></a></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-11"><a href="#cb1-11"></a></span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="fu">theme_set</span>(<span class="fu">theme_bw</span>())  <span class="co"># set ggplot2 theme for the lecture</span></span>
<span id="cb1-13"><a href="#cb1-13"></a></span>
<span id="cb1-14"><a href="#cb1-14"></a><span class="co"># Use a more colorblind-friendly color palette</span></span>
<span id="cb1-15"><a href="#cb1-15"></a><span class="fu">palette</span>(<span class="st">"Okabe-Ito"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="learning-more" class="slide level2">
<h2>Learning more</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p><a href="https://socialsciences.mcmaster.ca/jfox/Books/Companion/index.html">An R Companion to Applied regression</a> (3rd ed.)</p>
<ul>
<li><p>Chapter 4: Fitting Linear Models</p>
<ul>
<li>Section on “Factors in Linear Models”</li>
</ul></li>
<li><p>Chapter 8: Regression Diagnostics</p></li>
</ul></li>
<li><p>The R package <a href="https://cran.r-project.org/package=car">car</a></p></li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/rcar-book.jpeg" style="width:80.0%"></p>
</div>
</div>
</section>
<section id="learning-more-1" class="slide level2">
<h2>Learning more</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p><a href="https://julianfaraway.github.io/faraway/LMR/">Linear Models with R</a> (2nd ed.)</p>
<ul>
<li><p>Chapter 9: Transformation</p></li>
<li><p>Chapter 14: Categorical Predictors</p></li>
<li><p>There’s a <a href="https://www.python.org/">Python</a> version of the book as well</p></li>
</ul></li>
<li><p>The R package <a href="https://cran.r-project.org/package=faraway">faraway</a></p></li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/lmr2-book.png" style="width:80.0%"></p>
</div>
</div>
</section>
<section>
<section id="categorical-predictors" class="title-slide slide level1 center">
<h1>Categorical predictors</h1>

</section>
<section id="categorical-predictors-1" class="slide level2">
<h2>Categorical predictors</h2>
<ul>
<li><p>Also called <a href="https://en.wikipedia.org/wiki/Categorical_variable#:~:text=In%20statistics%2C%20a%20categorical%20variable,basis%20of%20some%20qualitative%20property.">qualitative variables</a> or <em>factors</em> (in R)</p>
<ul>
<li>See <code>?factor</code> in R for details</li>
</ul></li>
<li><p>Categorical variables can take on a limited, and usually fixed number of possible values</p></li>
<li><p>We’ll distinguish two types factors:</p>
<ol type="1">
<li>Nominal: the categories have no natural order (e.g., <strong>blood type</strong>)</li>
<li>Ordered: the categories have a natural ordering (e.g., cold &lt; warm &lt; hot)</li>
</ol></li>
</ul>
</section>
<section id="categorical-predictors-2" class="slide level2">
<h2>Categorical predictors</h2>
<ul>
<li><p>Categorical variables have to be numerically encoded in order to be used in a linear regression model</p></li>
<li><p>The distinction between nominal and ordered matters because we treat/encode each differently</p></li>
<li><p>There are lots of ways to encode categorical variables for linear regression, but most commonly</p>
<ul>
<li>Nominal categorical variables tend to get <a href="https://bradleyboehmke.github.io/HOML/engineering.html#one-hot-dummy-encoding">dummy encoded</a></li>
<li>Ordered categorical variables tend to get encoded using <a href="">orthogonal polynomials</a> (the default in R)</li>
</ul></li>
</ul>
</section>
<section id="dummy-encoding" class="slide level2">
<h2>Dummy encoding</h2>

<img data-src="images/dummy-encoding.png" style="width:100.0%" class="r-stretch quarto-figure-center"></section>
<section id="dummy-encoding-1" class="slide level2">
<h2>Dummy encoding</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>(dow <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Fri"</span>, <span class="st">"Tue"</span>, <span class="st">"Thu"</span>, <span class="st">"Wed"</span>, <span class="st">"Mon"</span>, <span class="st">"Tue"</span>))  <span class="co"># categorical</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Fri" "Tue" "Thu" "Wed" "Mon" "Tue"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>(dow2 <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(dow))  <span class="co"># factor</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Fri Tue Thu Wed Mon Tue
Levels: Fri Mon Thu Tue Wed</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># R will handle dummy encoding for you</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="st">"length"</span> <span class="ot">=</span> <span class="fu">rnorm</span>(<span class="dv">6</span>), <span class="st">"dow"</span> <span class="ot">=</span> dow2)  <span class="co"># made up data</span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="fu">model.matrix</span>( <span class="sc">~</span> length <span class="sc">+</span> dow, <span class="at">data =</span> df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  (Intercept)     length dowMon dowThu dowTue dowWed
1           1  1.2412288      0      0      0      0
2           1 -0.9350181      0      0      1      0
3           1 -0.2339658      0      1      0      0
4           1  0.4530444      0      0      0      1
5           1  0.2356061      1      0      0      0
6           1 -1.4156475      0      0      1      0
attr(,"assign")
[1] 0 1 2 2 2 2
attr(,"contrasts")
attr(,"contrasts")$dow
[1] "contr.treatment"</code></pre>
</div>
</div>
</section>
<section id="example-cutting-tool-data" class="slide level2">
<h2>Example: cutting tool data</h2>
<p>Suppose we want to relate the effective life of a cutting tool (<code>Hour</code>) used on a lathe to the lathe speed in revolutions per minute (<code>rpm</code>) and type of cutting tool used (<code>ToolType</code>).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"https://bgreenwell.github.io/"</span>,</span>
<span id="cb8-2"><a href="#cb8-2"></a>              <span class="st">"uc-bana7052/data/cutting_tool.csv"</span>)</span>
<span id="cb8-3"><a href="#cb8-3"></a>ctool <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(url, <span class="at">stringsAsFactors =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="fu">head</span>(ctool, <span class="at">n =</span> <span class="dv">10</span>)  <span class="co"># print first 10 obs.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    Hour rpm ToolType    Oil
1  18.73 610        A    Low
2  14.52 950        A    Low
3  17.43 720        A    Low
4  14.54 840        A    Low
5  13.44 980        A    Low
6  24.39 530        A Medium
7  13.34 680        A Medium
8  22.71 540        A Medium
9  12.68 890        A Medium
10 19.32 730        A Medium</code></pre>
</div>
</div>
</section>
<section id="example-cutting-tool-data-1" class="slide level2">
<h2>Example: cutting tool data</h2>
<div class="cell" data-layout-align="center" data-par="true">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">plot</span>(Hour <span class="sc">~</span> rpm, <span class="at">data =</span> ctool, <span class="at">col =</span> ctool<span class="sc">$</span>ToolType, <span class="at">pch =</span> <span class="dv">19</span>)</span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="fu">legend</span>(<span class="st">"topright"</span>, <span class="at">legend =</span> <span class="fu">levels</span>(ctool<span class="sc">$</span>ToolType), <span class="at">pch =</span> <span class="dv">19</span>,</span>
<span id="cb10-3"><a href="#cb10-3"></a>       <span class="at">col =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">inset =</span> <span class="fl">0.01</span>, <span class="at">bty =</span> <span class="st">"n"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="lecture-05-trans_files/figure-revealjs/unnamed-chunk-3-1.png" style="width:100.0%" class="r-stretch quarto-figure-center"></section>
<section id="example-cutting-tool-data-2" class="slide level2">
<h2>Example: cutting tool data</h2>
<div class="cell" data-layout-align="center" data-par="true">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="fu">plot</span>(Hour <span class="sc">~</span> rpm, <span class="at">data =</span> ctool, <span class="at">col =</span> ctool<span class="sc">$</span>ToolType, <span class="at">pch =</span> <span class="dv">19</span>)</span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="fu">abline</span>(<span class="fu">lm</span>(Hour <span class="sc">~</span> rpm, <span class="at">data =</span> ctool), <span class="at">col =</span> <span class="dv">3</span>)</span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="fu">legend</span>(<span class="st">"topright"</span>, <span class="at">legend =</span> <span class="fu">levels</span>(ctool<span class="sc">$</span>ToolType), <span class="at">pch =</span> <span class="dv">19</span>,</span>
<span id="cb11-4"><a href="#cb11-4"></a>       <span class="at">col =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">inset =</span> <span class="fl">0.01</span>, <span class="at">bty =</span> <span class="st">"n"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="lecture-05-trans_files/figure-revealjs/unnamed-chunk-4-1.png" style="width:100.0%" class="r-stretch quarto-figure-center"></section>
<section id="example-cutting-tool-data-3" class="slide level2">
<h2>Example: cutting tool data</h2>
<div class="cell" data-layout-align="center" data-par="true">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">plot</span>(Hour <span class="sc">~</span> rpm, <span class="at">data =</span> ctool, <span class="at">col =</span> ctool<span class="sc">$</span>ToolType, <span class="at">pch =</span> <span class="dv">19</span>)</span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="fu">abline</span>(<span class="fu">lm</span>(Hour <span class="sc">~</span> rpm, <span class="at">data =</span> ctool, <span class="at">subset =</span> ctool<span class="sc">$</span>ToolType <span class="sc">==</span> <span class="st">"A"</span>), <span class="at">col =</span> <span class="dv">1</span>)</span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="fu">abline</span>(<span class="fu">lm</span>(Hour <span class="sc">~</span> rpm, <span class="at">data =</span> ctool, <span class="at">subset =</span> ctool<span class="sc">$</span>ToolType <span class="sc">==</span> <span class="st">"B"</span>), <span class="at">col =</span> <span class="dv">2</span>)</span>
<span id="cb12-4"><a href="#cb12-4"></a><span class="fu">legend</span>(<span class="st">"topright"</span>, <span class="at">legend =</span> <span class="fu">levels</span>(ctool<span class="sc">$</span>ToolType), <span class="at">pch =</span> <span class="dv">19</span>,</span>
<span id="cb12-5"><a href="#cb12-5"></a>       <span class="at">col =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">inset =</span> <span class="fl">0.01</span>, <span class="at">bty =</span> <span class="st">"n"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="lecture-05-trans_files/figure-revealjs/unnamed-chunk-5-1.png" style="width:100.0%" class="r-stretch quarto-figure-center"></section>
<section id="example-cutting-tool-data-4" class="slide level2">
<h2>Example: cutting tool data</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="fu">model.matrix</span>(<span class="sc">~</span> rpm <span class="sc">+</span> ToolType, <span class="at">data =</span> ctool) <span class="sc">|&gt;</span> <span class="fu">head</span>(<span class="dv">20</span>)  <span class="co"># first 20 obs</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   (Intercept)  rpm ToolTypeB
1            1  610         0
2            1  950         0
3            1  720         0
4            1  840         0
5            1  980         0
6            1  530         0
7            1  680         0
8            1  540         0
9            1  890         0
10           1  730         0
11           1  670         1
12           1  770         1
13           1  880         1
14           1 1000         1
15           1  760         1
16           1  590         1
17           1  910         1
18           1  650         1
19           1  810         1
20           1  500         1</code></pre>
</div>
</div>
</section>
<section id="example-cutting-tool-data-5" class="slide level2">
<h2>Example: cutting tool data</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>(ctool.fit1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(Hour <span class="sc">~</span> rpm <span class="sc">+</span> ToolType, <span class="at">data =</span> ctool))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Hour ~ rpm + ToolType, data = ctool)

Coefficients:
(Intercept)          rpm    ToolTypeB  
   36.98560     -0.02661     15.00425  </code></pre>
</div>
</div>
<p>Two models (parallel lines) implied here: <span class="math display">\[\hat{\mathtt{Hour}} = \begin{cases} 36.986 - 0.027\mathtt{rpm}, &amp;\text{Tool type A} \\ \left(36.986 + 15.004\right) - 0.027\mathtt{rpm}, &amp;\text{Tool type B} \end{cases}\]</span></p>
</section>
<section id="example-cutting-tool-data-6" class="slide level2">
<h2>Example: cutting tool data</h2>

<img data-src="lecture-05-trans_files/figure-revealjs/unnamed-chunk-8-1.png" style="width:100.0%" class="r-stretch quarto-figure-center"></section>
<section id="unequal-slopes" class="slide level2">
<h2>Unequal slopes</h2>
<p>To allow for unequal “slopes” (i.e., non-parallel lines), we can include an <a href="https://www.jmp.com/en_us/statistics-knowledge-portal/what-is-multiple-regression/mlr-with-interactions.html">interaction effect</a> (i.e., the product) between the qualitative and quantitative variables: <span class="math display">\[Y = \beta_0 + \beta_1 X_1 + \beta_2 X_2 + \beta_3 X_1 X_2 + \epsilon\]</span></p>
<p>Note that interaction effects can occur between any type and any number of variables (e.g., think about a simple <strong>polynomial regression</strong> model!)</p>
</section>
<section id="example-cutting-tool-data-7" class="slide level2">
<h2>Example: cutting tool data</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="co"># ctool.fit2 &lt;- lm(Hour ~ rpm * ToolType, data = ctool)  # shortcut</span></span>
<span id="cb17-2"><a href="#cb17-2"></a>ctool.fit2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(Hour <span class="sc">~</span> rpm <span class="sc">+</span> ToolType <span class="sc">+</span> rpm<span class="sc">:</span>ToolType, <span class="at">data =</span> ctool)</span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="fu">summary</span>(ctool.fit2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Hour ~ rpm + ToolType + rpm:ToolType, data = ctool)

Residuals:
    Min      1Q  Median      3Q     Max 
-5.1750 -1.4999  0.4849  1.7830  4.8652 

Coefficients:
               Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)   32.774760   4.633472   7.073 2.63e-06 ***
rpm           -0.020970   0.006074  -3.452  0.00328 ** 
ToolTypeB     23.970593   6.768973   3.541  0.00272 ** 
rpm:ToolTypeB -0.011944   0.008842  -1.351  0.19553    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 2.968 on 16 degrees of freedom
Multiple R-squared:  0.9105,    Adjusted R-squared:  0.8937 
F-statistic: 54.25 on 3 and 16 DF,  p-value: 1.319e-08</code></pre>
</div>
</div>
</section>
<section id="orthogonal-polynomial-encoding" class="slide level2">
<h2>Orthogonal polynomial encoding</h2>
<ul>
<li><p>With ordered factors you can test/account for curvature</p></li>
<li><p>The details are beyond the scope of this class</p></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>ames <span class="ot">&lt;-</span> AmesHousing<span class="sc">::</span><span class="fu">make_ordinal_ames</span>()</span>
<span id="cb19-2"><a href="#cb19-2"></a><span class="fu">plot</span>(<span class="fu">log</span>(Sale_Price) <span class="sc">~</span> Overall_Qual, <span class="at">data =</span> ames, <span class="at">col =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="lecture-05-trans_files/figure-revealjs/unnamed-chunk-10-1.png" style="width:100.0%" class="r-stretch quarto-figure-center"></section></section>
<section>
<section id="analysis-of-covariance-ancova" class="title-slide slide level1 center">
<h1>Analysis of covariance (ANCOVA)</h1>

</section>
<section id="analysis-of-covariance-ancova-1" class="slide level2">
<h2>Analysis of covariance (ANCOVA)</h2>
<ul>
<li><p>In many statistical studies, the goal is to compare two or more groups in terms of a continuous response <span class="math inline">\(y\)</span> (e.g., the two-sample <span class="math inline">\(t\)</span>-test or ANOVA)</p></li>
<li><p>Oftentimes, however, additional information in the form of a continuous variable <span class="math inline">\(x\)</span> may available to help in the comparison</p>
<ul>
<li>Ideally, <span class="math inline">\(x\)</span> will be correlated with <span class="math inline">\(y\)</span></li>
</ul></li>
<li><p>Our main interest lies in comparing the populations, but we would like to take into account the additional information contained in <span class="math inline">\(x\)</span> (called a <em>covariate</em>, in this case)</p></li>
</ul>
</section>
<section id="example-fruit-fly-data" class="slide level2 smaller">
<h2>Example: fruit fly data</h2>
<p><strong>It has been established that increased reproduction reduces longevity in female fruit flies. A study was conducted to see if the same effect exists for male fruit flies</strong> (<a href="http://jse.amstat.org/v2n1/datasets.hanley.html">Hanley and Shapiro, 1994</a>). The experiment consisted of five groups: males forced to</p>
<ol type="1">
<li>live alone;</li>
<li>to live with one pregnant female;</li>
<li>to live with eight pregnant females;</li>
<li>to live with one fertile female;</li>
<li>to live with eight fertile females.</li>
</ol>
<p>The response of interest is <code>lifespan</code> (measured in days). Variables also measured were <code>thorax</code> length (mm), and the percentage of each day spent sleeping. For our analysis, we will only focus on two groups: control group of males living with one pregnant female and an experiment group of males living with one fertile female; these are stored in the factor variable <code>group</code> with levels <code>"control"</code> and <code>"treatment"</code>.</p>
</section>
<section id="example-fruit-fly-data-1" class="slide level2">
<h2>Example: fruit fly data</h2>
<div class="cell" data-layout-align="center" data-par="true">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>url <span class="ot">&lt;-</span> <span class="st">"https://bgreenwell.github.io/uc-bana7052/data/fruitfly.csv"</span></span>
<span id="cb20-2"><a href="#cb20-2"></a>fruitfly <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(url, <span class="at">stringsAsFactors =</span> <span class="cn">TRUE</span>)</span>
<span id="cb20-3"><a href="#cb20-3"></a><span class="fu">str</span>(fruitfly)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   50 obs. of  3 variables:
 $ lifespan: int  46 42 65 46 58 42 48 58 50 80 ...
 $ group   : Factor w/ 2 levels "control","treatment": 1 1 1 1 1 1 1 1 1 1 ...
 $ thorax  : num  0.64 0.68 0.72 0.76 0.76 0.8 0.8 0.8 0.82 0.82 ...</code></pre>
</div>
</div>
</section>
<section id="example-fruit-fly-data-2" class="slide level2">
<h2>Example: fruit fly data</h2>

<img data-src="lecture-05-trans_files/figure-revealjs/unnamed-chunk-12-1.png" style="width:100.0%" class="r-stretch quarto-figure-center"></section>
<section id="example-fruit-fly-data-3" class="slide level2">
<h2>Example: fruit fly data</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="co"># Two-sample t-test</span></span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="fu">t.test</span>(lifespan <span class="sc">~</span> group, <span class="at">data =</span> fruitfly)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Welch Two Sample t-test

data:  lifespan by group
t = 1.8585, df = 47.893, p-value = 0.06925
alternative hypothesis: true difference in means between group control and group treatment is not equal to 0
95 percent confidence interval:
 -0.6585072 16.7385072
sample estimates:
  mean in group control mean in group treatment 
                  64.80                   56.76 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="co"># Linear model (equivalent)</span></span>
<span id="cb24-2"><a href="#cb24-2"></a><span class="fu">summary</span>(<span class="fu">lm</span>(lifespan <span class="sc">~</span> group, <span class="at">data =</span> fruitfly))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = lifespan ~ group, data = fruitfly)

Residuals:
   Min     1Q Median     3Q    Max 
-35.76  -8.79   0.20  10.46  32.20 

Coefficients:
               Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)      64.800      3.059  21.184   &lt;2e-16 ***
grouptreatment   -8.040      4.326  -1.859   0.0692 .  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 15.29 on 48 degrees of freedom
Multiple R-squared:  0.06713,   Adjusted R-squared:  0.0477 
F-statistic: 3.454 on 1 and 48 DF,  p-value: 0.06923</code></pre>
</div>
</div>
</section>
<section id="example-fruit-fly-data-4" class="slide level2">
<h2>Example: fruit fly data</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="co"># Full model</span></span>
<span id="cb26-2"><a href="#cb26-2"></a>ff.fit1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(lifespan <span class="sc">~</span> thorax <span class="sc">+</span> group <span class="sc">+</span> thorax<span class="sc">:</span>group, </span>
<span id="cb26-3"><a href="#cb26-3"></a>              <span class="at">data =</span> fruitfly)</span>
<span id="cb26-4"><a href="#cb26-4"></a></span>
<span id="cb26-5"><a href="#cb26-5"></a><span class="co"># Print model summary</span></span>
<span id="cb26-6"><a href="#cb26-6"></a><span class="fu">summary</span>(ff.fit1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = lifespan ~ thorax + group + thorax:group, data = fruitfly)

Residuals:
     Min       1Q   Median       3Q      Max 
-25.9509  -9.2539   0.9361   7.3027  30.3071 

Coefficients:
                      Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)            -43.725     29.766  -1.469 0.148655    
thorax                 131.450     35.931   3.658 0.000651 ***
grouptreatment         -14.267     42.200  -0.338 0.736836    
thorax:grouptreatment    5.551     50.575   0.110 0.913072    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 12.3 on 46 degrees of freedom
Multiple R-squared:  0.4217,    Adjusted R-squared:  0.384 
F-statistic: 11.18 on 3 and 46 DF,  p-value: 1.244e-05</code></pre>
</div>
</div>
</section>
<section id="example-fruit-fly-data-5" class="slide level2">
<h2>Example: fruit fly data</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="co"># Thorax only</span></span>
<span id="cb28-2"><a href="#cb28-2"></a>ff.fit2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(lifespan <span class="sc">~</span> thorax, <span class="at">data =</span> fruitfly)</span>
<span id="cb28-3"><a href="#cb28-3"></a></span>
<span id="cb28-4"><a href="#cb28-4"></a><span class="co"># Print model summary</span></span>
<span id="cb28-5"><a href="#cb28-5"></a><span class="fu">summary</span>(ff.fit2)</span>
<span id="cb28-6"><a href="#cb28-6"></a></span>
<span id="cb28-7"><a href="#cb28-7"></a><span class="co"># Compare models</span></span>
<span id="cb28-8"><a href="#cb28-8"></a><span class="fu">anova</span>(ff.fit2, ff.fit1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="example-fruit-fly-data-6" class="slide level2">
<h2>Example: fruit fly data</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = lifespan ~ thorax, data = fruitfly)

Residuals:
    Min      1Q  Median      3Q     Max 
-24.111  -8.825   1.207   7.707  35.143 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)   -45.82      22.22  -2.062   0.0447 *  
thorax        128.18      26.63   4.813 1.52e-05 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 13.01 on 48 degrees of freedom
Multiple R-squared:  0.3255,    Adjusted R-squared:  0.3115 
F-statistic: 23.17 on 1 and 48 DF,  p-value: 1.519e-05</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Variance Table

Model 1: lifespan ~ thorax
Model 2: lifespan ~ thorax + group + thorax:group
  Res.Df    RSS Df Sum of Sq      F  Pr(&gt;F)  
1     48 8118.4                              
2     46 6961.1  2    1157.3 3.8239 0.02909 *
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
</section>
<section id="example-fruit-fly-data-7" class="slide level2">
<h2>Example: fruit fly data</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="co"># Parallel regression lines</span></span>
<span id="cb31-2"><a href="#cb31-2"></a>ff.fit3 <span class="ot">&lt;-</span> <span class="fu">lm</span>(lifespan <span class="sc">~</span> thorax <span class="sc">+</span> group, <span class="at">data =</span> fruitfly)</span>
<span id="cb31-3"><a href="#cb31-3"></a></span>
<span id="cb31-4"><a href="#cb31-4"></a><span class="co"># Print model summary</span></span>
<span id="cb31-5"><a href="#cb31-5"></a><span class="fu">summary</span>(ff.fit3)</span>
<span id="cb31-6"><a href="#cb31-6"></a></span>
<span id="cb31-7"><a href="#cb31-7"></a><span class="co"># Compare models</span></span>
<span id="cb31-8"><a href="#cb31-8"></a><span class="fu">anova</span>(ff.fit3, ff.fit1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="example-fruit-fly-data-8" class="slide level2">
<h2>Example: fruit fly data</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = lifespan ~ thorax + group, data = fruitfly)

Residuals:
    Min      1Q  Median      3Q     Max 
-26.103  -9.123   1.092   7.273  30.267 

Coefficients:
               Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)     -46.038     20.799  -2.214  0.03175 *  
thorax          134.252     25.019   5.366 2.42e-06 ***
grouptreatment   -9.651      3.456  -2.793  0.00753 ** 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 12.17 on 47 degrees of freedom
Multiple R-squared:  0.4215,    Adjusted R-squared:  0.3969 
F-statistic: 17.12 on 2 and 47 DF,  p-value: 2.593e-06</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Variance Table

Model 1: lifespan ~ thorax + group
Model 2: lifespan ~ thorax + group + thorax:group
  Res.Df    RSS Df Sum of Sq     F Pr(&gt;F)
1     47 6962.9                          
2     46 6961.1  1    1.8233 0.012 0.9131</code></pre>
</div>
</div>
</section>
<section id="example-fruit-fly-data-9" class="slide level2">
<h2>Example: fruit fly data</h2>

<img data-src="lecture-05-trans_files/figure-revealjs/unnamed-chunk-19-1.png" style="width:100.0%" class="r-stretch quarto-figure-center"></section></section>
<section>
<section id="transformations" class="title-slide slide level1 center">
<h1>Transformations</h1>

</section>
<section id="variance-stabilizing-transformations" class="slide level2">
<h2>Variance stabilizing transformations</h2>
<ul>
<li><p>Homoscedasticity is often violated when the variance is functionally related to the mean (<span class="math inline">\(E\left(Y|\boldsymbol{x}\right) = \boldsymbol{x}^\top\boldsymbol{\beta}\)</span>)</p>
<ul>
<li>If not satisfied, the estimated regression coefficients will have larger standard errors (i.e., less precision)</li>
</ul></li>
<li><p>Applying a transformation to the response may alleviate the problem</p></li>
<li><p>While subject matter expertise and prior knowledge can be used to help select an appropriate transformation, such transformation are typically selected <strong>empirically</strong></p></li>
</ul>
</section>
<section class="slide level2">


<img data-src="lecture-05-trans_files/figure-revealjs/unnamed-chunk-20-1.png" style="width:100.0%" class="r-stretch quarto-figure-center"></section>
<section id="common-transformations" class="slide level2">
<h2>Common transformations</h2>
<table>
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Relationship between <span class="math inline">\(\sigma^2\)</span> and <span class="math inline">\(E\left(Y\right) = E\left(Y|\boldsymbol{x}\right)\)</span></th>
<th style="text-align: left;">Transformation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\sigma^2 \propto \text{constant}\)</span></td>
<td style="text-align: left;"><span class="math inline">\(Y^\star = Y\)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\sigma^2 \propto E\left(Y\right)\)</span></td>
<td style="text-align: left;"><span class="math inline">\(Y^\star = \sqrt{Y}\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\sigma^2 \propto E\left(Y\right)\left[1 - E\left(Y\right)\right]\)</span></td>
<td style="text-align: left;"><span class="math inline">\(Y^\star = \sin^{-1}\left(\sqrt{Y}\right)\)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\sigma^2 \propto \left[E\left(Y\right)\right]^2\)</span></td>
<td style="text-align: left;"><span class="math inline">\(Y^\star = Y^{-1/2}\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\sigma^2 \propto \left[E\left(Y\right)\right]^3\)</span></td>
<td style="text-align: left;"><span class="math inline">\(Y^\star = Y\)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\sigma^2 \propto \left[E\left(Y\right)\right]^4\)</span></td>
<td style="text-align: left;"><span class="math inline">\(Y^\star = Y^{-1}\)</span></td>
</tr>
</tbody>
</table>
</section>
<section id="example-electricity-demand" class="slide level2">
<h2>Example: electricity demand</h2>
<p>An electric utility is investigating the effect of the size of a single-family house and the type of air conditioning used in the house on the total electricity consumption during warm weather months</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="co"># Load the utility data</span></span>
<span id="cb34-2"><a href="#cb34-2"></a>url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"https://bgreenwell.github.io/"</span>,</span>
<span id="cb34-3"><a href="#cb34-3"></a>              <span class="st">"uc-bana7052/data/utility.csv"</span>)</span>
<span id="cb34-4"><a href="#cb34-4"></a>utility <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(url)</span>
<span id="cb34-5"><a href="#cb34-5"></a><span class="fu">head</span>(utility, <span class="at">n =</span> <span class="dv">5</span>)  <span class="co"># print first 5 observations </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Customer Usage Demand
1        1   679   0.79
2        2   292   0.44
3        3  1012   0.56
4        4   493   0.79
5        5   582   2.70</code></pre>
</div>
</div>
</section>
<section id="example-electricity-demand-1" class="slide level2">
<h2>Example: electricity demand</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="co"># Scatterplot</span></span>
<span id="cb36-2"><a href="#cb36-2"></a><span class="fu">plot</span>(Demand <span class="sc">~</span> Usage, <span class="at">data =</span> utility, <span class="at">pch =</span> <span class="dv">19</span>, <span class="at">las =</span> <span class="dv">1</span>,</span>
<span id="cb36-3"><a href="#cb36-3"></a>     <span class="at">col =</span> <span class="fu">adjustcolor</span>(<span class="dv">1</span>, <span class="at">alpha.f =</span> <span class="fl">0.5</span>))</span>
<span id="cb36-4"><a href="#cb36-4"></a></span>
<span id="cb36-5"><a href="#cb36-5"></a><span class="co"># Add fitted regression line</span></span>
<span id="cb36-6"><a href="#cb36-6"></a><span class="fu">abline</span>(fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(Demand <span class="sc">~</span> Usage, <span class="at">data =</span> utility), <span class="at">lwd =</span> <span class="dv">2</span>,</span>
<span id="cb36-7"><a href="#cb36-7"></a>       <span class="at">col =</span> <span class="fu">adjustcolor</span>(<span class="dv">2</span>, <span class="at">alpha.f =</span> <span class="fl">0.5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="example-electricity-demand-2" class="slide level2">
<h2>Example: electricity demand</h2>

<img data-src="lecture-05-trans_files/figure-revealjs/unnamed-chunk-21-1.png" style="width:100.0%" class="r-stretch quarto-figure-center"></section>
<section id="which-transformations-should-we-try" class="slide level2">
<h2>Which transformation(s) should we try?</h2>

<img data-src="lecture-05-trans_files/figure-revealjs/unnamed-chunk-22-1.png" style="width:100.0%" class="r-stretch quarto-figure-center"></section>
<section id="example-electricity-demand-3" class="slide level2">
<h2>Example: electricity demand</h2>
<p>Let’s try a square-root transformation! In R, you can usually transform the response right in the model formula:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="co"># Scatterplot</span></span>
<span id="cb37-2"><a href="#cb37-2"></a><span class="fu">plot</span>(<span class="fu">sqrt</span>(Demand) <span class="sc">~</span> Usage, <span class="at">data =</span> utility, <span class="at">pch =</span> <span class="dv">19</span>, <span class="at">las =</span> <span class="dv">1</span>,</span>
<span id="cb37-3"><a href="#cb37-3"></a>     <span class="at">col =</span> <span class="fu">adjustcolor</span>(<span class="dv">1</span>, <span class="at">alpha.f =</span> <span class="fl">0.5</span>))</span>
<span id="cb37-4"><a href="#cb37-4"></a></span>
<span id="cb37-5"><a href="#cb37-5"></a><span class="co"># Add fitted regression line</span></span>
<span id="cb37-6"><a href="#cb37-6"></a><span class="fu">abline</span>(fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="fu">sqrt</span>(Demand) <span class="sc">~</span> Usage, <span class="at">data =</span> utility), </span>
<span id="cb37-7"><a href="#cb37-7"></a>       <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">col =</span> <span class="fu">adjustcolor</span>(<span class="dv">2</span>, <span class="at">alpha.f =</span> <span class="fl">0.5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="example-electricity-demand-4" class="slide level2">
<h2>Example: electricity demand</h2>

<img data-src="lecture-05-trans_files/figure-revealjs/unnamed-chunk-24-1.png" style="width:100.0%" class="r-stretch quarto-figure-center"></section>
<section id="example-electricity-demand-5" class="slide level2">
<h2>Example: electricity demand</h2>

<img data-src="lecture-05-trans_files/figure-revealjs/unnamed-chunk-25-1.png" style="width:100.0%" class="r-stretch quarto-figure-center"></section>
<section id="box-cox-procedure" class="slide level2">
<h2>Box-Cox procedure</h2>
<ul>
<li><p>Suppose that we wish to transform <span class="math inline">\(Y\)</span> to correct for non-normality and/or non-constant variance (i.e., heteroscedasticity)</p></li>
<li><p>A useful class of transformations is the power transformation, <span class="math inline">\(Y^\lambda\)</span> where <span class="math inline">\(\lambda\)</span> is a parameter to be estimated from the data</p></li>
<li><p>The parameters of the regression model and <span class="math inline">\(\lambda\)</span> can be estimated simultaneously using the method of maximum likelihood estimation</p></li>
</ul>
</section>
<section id="box-cox-procedure-1" class="slide level2">
<h2>Box-Cox procedure</h2>
<ul>
<li><p>The <a href="https://en.wikipedia.org/wiki/Power_transform">Box-Cox transformation</a> uses <span class="math display">\[Y_i^{\left(\lambda\right)} = \begin{cases} \frac{Y_i^\lambda - 1}{\lambda}, &amp; \quad \lambda \ne 0 \\ \ln\left(Y_i\right), &amp; \quad \lambda = 0 \end{cases}\]</span></p></li>
<li><p>The model to be fit is <span class="math display">\[Y_i^{\left(\lambda\right)} = \beta_0 + \beta_1 X_{i1} + \dots + \beta_{p-1} X_{i, p-1} + \epsilon_i\]</span></p></li>
<li><p>In R, you can use <a href="https://www.rdocumentation.org/packages/MASS/versions/7.3-50/topics/boxcox">MASS::boxcox()</a> or <a href="https://www.rdocumentation.org/packages/car/versions/2.1-4/topics/boxCox">car::boxCox()</a> to find the “optimal” value of <span class="math inline">\(\lambda\)</span></p></li>
</ul>
</section>
<section id="example-electricity-demand-6" class="slide level2">
<h2>Example: electricity demand</h2>
<div class="cell" data-layout-align="center" data-par="true">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a><span class="co"># Find optimal lambda value via ML estimation</span></span>
<span id="cb38-2"><a href="#cb38-2"></a>bc <span class="ot">&lt;-</span> MASS<span class="sc">::</span><span class="fu">boxcox</span>(Demand <span class="sc">~</span> Usage, <span class="at">data =</span> utility)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a>(lambda <span class="ot">&lt;-</span> bc<span class="sc">$</span>x[<span class="fu">which.max</span>(bc<span class="sc">$</span>y)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.5454545</code></pre>
</div>
</div>
<img data-src="lecture-05-trans_files/figure-revealjs/unnamed-chunk-26-1.png" style="width:100.0%" class="r-stretch quarto-figure-center"></section>
<section id="example-electricity-demand-7" class="slide level2">
<h2>Example: electricity demand</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="co"># Scatterplot and fitted model</span></span>
<span id="cb41-2"><a href="#cb41-2"></a>utility<span class="sc">$</span>Demand2 <span class="ot">&lt;-</span> (utility<span class="sc">$</span>Demand <span class="sc">^</span> lambda <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">/</span> lambda</span>
<span id="cb41-3"><a href="#cb41-3"></a><span class="fu">plot</span>(Demand2 <span class="sc">~</span> Usage, <span class="at">data =</span> utility, <span class="at">pch =</span> <span class="dv">19</span>, <span class="at">las =</span> <span class="dv">1</span>,</span>
<span id="cb41-4"><a href="#cb41-4"></a>     <span class="at">col =</span> <span class="fu">adjustcolor</span>(<span class="dv">1</span>, <span class="at">alpha.f =</span> <span class="fl">0.5</span>))</span>
<span id="cb41-5"><a href="#cb41-5"></a></span>
<span id="cb41-6"><a href="#cb41-6"></a><span class="co"># Add fitted regression line</span></span>
<span id="cb41-7"><a href="#cb41-7"></a><span class="fu">abline</span>(fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(Demand2 <span class="sc">~</span> Usage, <span class="at">data =</span> utility), <span class="at">lwd =</span> <span class="dv">2</span>,</span>
<span id="cb41-8"><a href="#cb41-8"></a>       <span class="at">col =</span> <span class="fu">adjustcolor</span>(<span class="dv">2</span>, <span class="at">alpha.f =</span> <span class="fl">0.5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="example-electricity-demand-8" class="slide level2">
<h2>Example: electricity demand</h2>

<img data-src="lecture-05-trans_files/figure-revealjs/unnamed-chunk-28-1.png" style="width:100.0%" class="r-stretch quarto-figure-center"></section>
<section id="example-electricity-demand-9" class="slide level2">
<h2>Example: electricity demand</h2>
<div class="cell" data-layout-align="center" data-fig.wdith="7" data-par="true">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))  <span class="co"># side-by-side plots</span></span>
<span id="cb42-2"><a href="#cb42-2"></a><span class="fu">plot</span>(fit, <span class="at">which =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="lecture-05-trans_files/figure-revealjs/boxcox-03-1.png" style="width:100.0%" class="r-stretch quarto-figure-center"></section>
<section id="transformations-to-linearize-the-model" class="slide level2">
<h2>Transformations to linearize the model</h2>
<ul>
<li><p>Nonlinearity may be detected via plots or a <em>lack-of-fit</em> test</p></li>
<li><p>If a transformation of a nonlinear function can result in a linear function we say it is <em>intrinsically linear</em> or <em>transformably linear</em>; for example:</p></li>
</ul>
<p><span class="math display">\[\begin{align}Y &amp;= \beta_0\exp{\left(\beta_1 X\right)}\epsilon \\ \implies \ln{Y} &amp;= \ln{\beta_0} + \beta_1 X + \epsilon^\star \\ \implies Y^\star &amp;= \beta_0^\star + \beta_1 X + \epsilon^\star\end{align}\]</span></p>
</section>
<section id="transformations-to-linearize-the-model-1" class="slide level2">
<h2>Transformations to linearize the model</h2>

<img data-src="lecture-05-trans_files/figure-revealjs/unnamed-chunk-29-1.png" style="width:100.0%" class="r-stretch quarto-figure-center"><p>Suggested transformation(s): <span class="math inline">\(X^\star = \log_{10}\left(X\right)\)</span> or <span class="math inline">\(X^\star = \sqrt{X}\)</span></p>
</section>
<section id="transformations-to-linearize-the-model-2" class="slide level2">
<h2>Transformations to linearize the model</h2>

<img data-src="lecture-05-trans_files/figure-revealjs/unnamed-chunk-30-1.png" style="width:100.0%" class="r-stretch quarto-figure-center"><p>Suggested transformation(s): <span class="math inline">\(X^\star = X^2\)</span> or <span class="math inline">\(X^\star = \exp{\left(X\right)}\)</span></p>
</section>
<section id="transformations-to-linearize-the-model-3" class="slide level2">
<h2>Transformations to linearize the model</h2>

<img data-src="lecture-05-trans_files/figure-revealjs/unnamed-chunk-31-1.png" style="width:100.0%" class="r-stretch quarto-figure-center"><p>Suggested transformation(s): <span class="math inline">\(X^\star = 1/X\)</span> or <span class="math inline">\(X^\star = \exp{\left(-X\right)}\)</span></p>
</section>
<section id="example-mlb-salary-data" class="slide level2">
<h2>Example: MLB salary data</h2>
<p>The MLB salary data introduced in <a href="">Lecture 4</a> violates many classical assumptions, like linearity, normality, and constant variance. (Just go back and look at the residual plots we constructed for our initial model.) Can you fix some of the issues using simple transformations? <a href="https://www.tandfonline.com/doi/abs/10.1080/00031305.1995.10476165">Hoaglin and Velleman (1995)</a> proposed the following model continuous three-segment regression model: <span class="math display">\[\log\left(\mathtt{Salary}\right) = \beta_0 + \beta_1 \mathtt{CRuns} / \mathtt{Years} + \beta_2\sqrt{\mathtt{Runs}} + \\\beta_3 \min\left[\left(\mathtt{Years} - 2\right)_{+}, 5\right] + \beta_4\left(\mathtt{Years} - 7\right)_{+}\]</span></p>

<aside><div>
<p>See <a href="https://www3.stat.sinica.edu.tw/statistica/oldpdf/A12n21.pdf">this paper</a> for an interesting tree-based analysis 🌲</p>
</div></aside></section>
<section id="example-windmill-data" class="slide level2">
<h2>Example: windmill data</h2>
<p>A research engineer is investigating the use of a windmill to generate electricity and has collected data on the DC output from this windmill (<code>Output</code>) and the corresponding wind velocity (<code>Velocity</code>).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a><span class="co"># Load the windmill data</span></span>
<span id="cb43-2"><a href="#cb43-2"></a>url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"https://bgreenwell.github.io/"</span>,</span>
<span id="cb43-3"><a href="#cb43-3"></a>              <span class="st">"uc-bana7052/data/windmill.csv"</span>)</span>
<span id="cb43-4"><a href="#cb43-4"></a>windmill <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(url)</span>
<span id="cb43-5"><a href="#cb43-5"></a><span class="fu">head</span>(windmill, <span class="at">n =</span> <span class="dv">5</span>)  <span class="co"># print first 5 observations </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Observation.Number Velocity Output
1                  1      5.0  1.582
2                  2      6.0  1.822
3                  3      3.4  1.057
4                  4      2.7  0.500
5                  5     10.0  2.236</code></pre>
</div>
</div>
</section>
<section id="example-windmill-data-1" class="slide level2">
<h2>Example: windmill data</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a><span class="co"># Scatterplot</span></span>
<span id="cb45-2"><a href="#cb45-2"></a><span class="fu">plot</span>(Output <span class="sc">~</span> Velocity, <span class="at">data =</span> windmill, <span class="at">pch =</span> <span class="dv">19</span>, <span class="at">las =</span> <span class="dv">1</span>,</span>
<span id="cb45-3"><a href="#cb45-3"></a>     <span class="at">col =</span> <span class="fu">adjustcolor</span>(<span class="dv">1</span>, <span class="at">alpha.f =</span> <span class="fl">0.5</span>),</span>
<span id="cb45-4"><a href="#cb45-4"></a>     <span class="at">xlab =</span> <span class="st">"Wind velocity"</span>, <span class="at">ylab =</span> <span class="st">"DC output"</span>,</span>
<span id="cb45-5"><a href="#cb45-5"></a>     <span class="at">main =</span> <span class="st">"Original data"</span>)</span>
<span id="cb45-6"><a href="#cb45-6"></a></span>
<span id="cb45-7"><a href="#cb45-7"></a><span class="co"># Add fitted regression line</span></span>
<span id="cb45-8"><a href="#cb45-8"></a><span class="fu">abline</span>(fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(Output <span class="sc">~</span> Velocity, <span class="at">data =</span> windmill), <span class="at">lwd =</span> <span class="dv">2</span>,</span>
<span id="cb45-9"><a href="#cb45-9"></a>       <span class="at">col =</span> <span class="fu">adjustcolor</span>(<span class="dv">2</span>, <span class="at">alpha.f =</span> <span class="fl">0.5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="example-windmill-data-2" class="slide level2">
<h2>Example: windmill data</h2>

<img data-src="lecture-05-trans_files/figure-revealjs/unnamed-chunk-32-1.png" style="width:100.0%" class="r-stretch quarto-figure-center"></section>
<section id="example-windmill-data-3" class="slide level2">
<h2>Example: windmill data</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a><span class="co"># Residual plot</span></span>
<span id="cb46-2"><a href="#cb46-2"></a><span class="fu">plot</span>(<span class="fu">fitted</span>(fit), <span class="fu">rstudent</span>(fit), <span class="at">pch =</span> <span class="dv">19</span>, <span class="at">las =</span> <span class="dv">1</span>,</span>
<span id="cb46-3"><a href="#cb46-3"></a>     <span class="at">col =</span> <span class="fu">adjustcolor</span>(<span class="dv">1</span>, <span class="at">alpha.f =</span> <span class="fl">0.5</span>),</span>
<span id="cb46-4"><a href="#cb46-4"></a>     <span class="at">xlab =</span> <span class="st">"Fitted value"</span>, <span class="at">ylab =</span> <span class="st">"Studentized residual"</span>,</span>
<span id="cb46-5"><a href="#cb46-5"></a>     <span class="at">main =</span> <span class="st">"Original data"</span>)</span>
<span id="cb46-6"><a href="#cb46-6"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="dv">0</span>, <span class="at">lty =</span> <span class="dv">2</span>, <span class="at">col =</span> <span class="fu">adjustcolor</span>(<span class="dv">2</span>, <span class="at">alpha.f =</span> <span class="fl">0.5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="example-windmill-data-4" class="slide level2">
<h2>Example: windmill data</h2>

<img data-src="lecture-05-trans_files/figure-revealjs/unnamed-chunk-33-1.png" style="width:100.0%" class="r-stretch quarto-figure-center"></section>
<section id="example-windmill-data-5" class="slide level2">
<h2>Example: windmill data</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a><span class="co"># Scatterplot</span></span>
<span id="cb47-2"><a href="#cb47-2"></a><span class="fu">plot</span>(Output <span class="sc">~</span> <span class="fu">I</span>(<span class="dv">1</span><span class="sc">/</span>Velocity), <span class="at">data =</span> windmill, <span class="at">pch =</span> <span class="dv">19</span>, <span class="at">las =</span> <span class="dv">1</span>,</span>
<span id="cb47-3"><a href="#cb47-3"></a>     <span class="at">col =</span> <span class="fu">adjustcolor</span>(<span class="dv">1</span>, <span class="at">alpha.f =</span> <span class="fl">0.5</span>),</span>
<span id="cb47-4"><a href="#cb47-4"></a>     <span class="at">xlab =</span> <span class="st">"1 / (Wind velocity)"</span>, <span class="at">ylab =</span> <span class="st">"DC output"</span>,</span>
<span id="cb47-5"><a href="#cb47-5"></a>     <span class="at">main =</span> <span class="st">"Transformed data"</span>)</span>
<span id="cb47-6"><a href="#cb47-6"></a></span>
<span id="cb47-7"><a href="#cb47-7"></a><span class="co"># Add fitted regression line</span></span>
<span id="cb47-8"><a href="#cb47-8"></a><span class="fu">abline</span>(fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(Output <span class="sc">~</span> <span class="fu">I</span>(<span class="dv">1</span><span class="sc">/</span>Velocity), <span class="at">data =</span> windmill), <span class="at">lwd =</span> <span class="dv">2</span>,</span>
<span id="cb47-9"><a href="#cb47-9"></a>       <span class="at">col =</span> <span class="fu">adjustcolor</span>(<span class="dv">2</span>, <span class="at">alpha.f =</span> <span class="fl">0.5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="example-windmill-data-6" class="slide level2">
<h2>Example: windmill data</h2>

<img data-src="lecture-05-trans_files/figure-revealjs/unnamed-chunk-35-1.png" style="width:100.0%" class="r-stretch quarto-figure-center"></section>
<section id="example-windmill-data-7" class="slide level2">
<h2>Example: windmill data</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a><span class="co"># Residual plot</span></span>
<span id="cb48-2"><a href="#cb48-2"></a><span class="fu">plot</span>(<span class="fu">fitted</span>(fit), <span class="fu">rstudent</span>(fit), <span class="at">pch =</span> <span class="dv">19</span>, <span class="at">las =</span> <span class="dv">1</span>,  </span>
<span id="cb48-3"><a href="#cb48-3"></a>     <span class="at">col =</span> <span class="fu">adjustcolor</span>(<span class="dv">1</span>, <span class="at">alpha.f =</span> <span class="fl">0.5</span>),</span>
<span id="cb48-4"><a href="#cb48-4"></a>     <span class="at">xlab =</span> <span class="st">"Fitted value"</span>, <span class="at">ylab =</span> <span class="st">"Studentized residual"</span>,</span>
<span id="cb48-5"><a href="#cb48-5"></a>     <span class="at">main =</span> <span class="st">"Transformed data"</span>)</span>
<span id="cb48-6"><a href="#cb48-6"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="dv">0</span>, <span class="at">lty =</span> <span class="dv">2</span>, <span class="at">col =</span> <span class="fu">adjustcolor</span>(<span class="dv">2</span>, <span class="at">alpha.f =</span> <span class="fl">0.5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="example-windmill-data-8" class="slide level2">
<h2>Example: windmill data</h2>

<img data-src="lecture-05-trans_files/figure-revealjs/unnamed-chunk-37-1.png" style="width:100.0%" class="r-stretch quarto-figure-center"></section>
<section id="example-windmill-data-9" class="slide level2">
<h2>Example: windmill data</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a><span class="fu">summary</span>(fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Output ~ I(1/Velocity), data = windmill)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.20547 -0.04940  0.01100  0.08352  0.12204 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)     2.9789     0.0449   66.34   &lt;2e-16 ***
I(1/Velocity)  -6.9345     0.2064  -33.59   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.09417 on 23 degrees of freedom
Multiple R-squared:   0.98, Adjusted R-squared:  0.9792 
F-statistic:  1128 on 1 and 23 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
</section>
<section id="warning-re-transformations" class="slide level2">
<h2>Warning RE transformations</h2>
<p>⚠️⚠️⚠️</p>
<p>The estimated coefficients still have the same properties, but only with respect to the transformed data, not the original data!</p>
<p>⚠️⚠️⚠️</p>
</section></section>
<section>
<section id="automated-procedures-a-quick-note" class="title-slide slide level1 center">
<h1>Automated procedures (a quick note)</h1>

</section>
<section id="automated-procedures-a-quick-note-1" class="slide level2 smaller">
<h2>Automated procedures (a quick note)</h2>
<ul>
<li><p><a href="https://en.wikipedia.org/wiki/Alternating_conditional_expectations">Alternating conditional expectations (ACE)</a>: uses the <em>alternating conditional expectations</em> algorithm to find the transformations of <span class="math inline">\(Y\)</span> and <span class="math inline">\(X\)</span> that maximize the proportion of variation in <span class="math inline">\(Y\)</span> explained by <span class="math inline">\(X\)</span> (see R package <a href="https://cran.r-project.org/package=acepack">acepack</a>)</p></li>
<li><p><a href="https://www.tandfonline.com/doi/abs/10.1080/01621459.1988.10478610">Additivity and variance stabilization for regression (AVAS)</a>: estimates transformations of <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> such that the regression of <span class="math inline">\(Y\)</span> on <span class="math inline">\(X\)</span> is approximately linear with constant variance (see R package <a href="https://cran.r-project.org/package=acepack">acepack</a>)</p></li>
<li><p><a href="https://en.wikipedia.org/wiki/Multivariate_adaptive_regression_spline">Multivariate adaptive regression splines (MARS)</a>: piecewise linear splines approach to multiple linear regression that automatically models nonlinearities and interactions between variables (see R package <a href="https://cran.r-project.org/package=earth">earth</a>)</p></li>
</ul>

<img src="images/uc.png" class="slide-logo r-stretch"><div class="footer footer-default">
<p>BANA 7052: Applied Linear Regression</p>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="lecture-05-trans_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="lecture-05-trans_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="lecture-05-trans_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="lecture-05-trans_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="lecture-05-trans_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="lecture-05-trans_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="lecture-05-trans_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="lecture-05-trans_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="lecture-05-trans_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="lecture-05-trans_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="lecture-05-trans_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: false,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        function fireSlideChanged(previousSlide, currentSlide) {

          // dispatch for htmlwidgets
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for reveal
        if (window.Reveal) {
          window.Reveal.addEventListener("slidechanged", function(event) {
            fireSlideChanged(event.previousSlide, event.currentSlide);
          });
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        setTimeout(function() {
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          let href = ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const cites = ref.parentNode.getAttribute('data-cites').split(' ');
        tippyHover(ref, function() {
          var popup = window.document.createElement('div');
          cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    });
    </script>
    

</body></html>